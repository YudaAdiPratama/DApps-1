# DApp Browser Integrated
Integrate your app to dapp browser for compability with VexWallet Android.  
> You need to put your codes online in order to test it out in dapp browser on your android device.  
> Don't worry, this's still compatible perfectly with VexWallet Windows/MacOS.

1. Include the Core Javascripts
Include them inside the ```head``` tag
```html
<html>
<head>
	...
	<script src="js/vex.min.js" type="text/javascript"></script>
	<script src="js/scatterjs-core.min.js" type="text/javascript"></script>
	<script src="js/scatterjs-plugin-vexjs.min.js" type="text/javascript"></script>
	<script src="js/pocket.vex.min.js" type="text/javascript"></script>
</head>
<body>
	...
	<script src="js/main.js" type="text/javascript"></script>
</body>
</html>
```  
Create ```main.js``` file with basic codes as below:

2. Call the Vexanium Plugin    
```js
ScatterJS.plugins( Vexanium() );
```

3. Detect your app run form dapp browser or not    
```js
const fromDappBrowser = navigator.userAgent=='VexWalletAndroid';
```  

5. Setup the Mainnet  
```js
var network = ScatterJS.Network.fromJson({
	blockchain: bc('vex'),
	chainId:'f9f432b1851b5c179d2091a96f593aaed50ec7466b74f89301f957a83e56ce1f',
	host:'209.97.162.124',
	port:8080,
	protocol:'http'
});
```

6. Connect to Wallet    
```js
if(!fromDappBrowser){
	ScatterJS.connect(appname,{network}).then(connected => {
		if(!connected) {
			notConnected();
			return;
		}
		login();
	});
} else {
	pe.getWalletWithAccount().then((res)=>{
		if(!res) {
			notConnected();
			return;
		}
		account = res.data.account;
		onConnected();
	});	
}
```
> You can get wallet name immediately from dapp browser,
as in Android you login first then enter dapp browser.
In contrary, you need to login after connect in Desktop.

7. Login and get the Wallet Name    
```js
ScatterJS.login().then(id => {
	if(!id) return;
	usrTxt.innerHTML = id.accounts[0].name;
});
```
> This's not being called if using dapp browser

8. Connect to Mainnet and get the Wallet Balance    
```js
const vexnet = VexNet(network);
vexnet.getAccount({
	account_name: account
}).then(info => {
	balance = info.core_liquid_balance?info.core_liquid_balance:balance;
});
```
> If you have don't have any balance, core_liquid_balance does not exist,
that's why we need to do precheck and set default value as '0.0000 VEX' 

Done. Those are the basic codes, you can check the complete scripts inside [js/main.js](js/main.js)

## Additional
You can call ```vexnet.getAccount()``` in different way from the example above.    
Other than ```balance``` you can call any information fetched by ```vexnet.getAccount()```.  
Here's the details:  
```js
vexnet.getAccount(account).then(res => {
	balance = res.core_liquid_balance?res.core_liquid_balance:balance;
	used_cpu = res.cpu_limit.used;
	available_cpu = res.cpu_limit.available;
	max_cpu = res.cpu_limit.max;
	cpu_weight = res.cpu_weight;
	used_net = res.net_limit.used;
	available_net = res.net_limit.available;
	max_net = res.net_limit.max;
	net_weight = res.net_weight;
	ram_quota = res.ram_quota;
	ram_usage = res.ram_usage;
	//or simply log to console the result object for more details
	console.log(res);
});
```
You can compare the results generated by ```vexnet.getAccount()``` above with 
[https://explorer.vexanium.com/account/{your_wallet_account_name}](https://explorer.vexanium.com/account/{your_wallet_account_name}).
Basically they're the same.
